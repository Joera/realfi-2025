{
  "_format": "hh-sol-artifact-1",
  "contractName": "S3ntimentSurveyStore",
  "sourceName": "contracts/survey-store.sol",
  "abi": [
    {
      "inputs": [],
      "name": "InvalidSignature",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NullifierAlreadyUsed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SignerNotSurveyOwner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SurveyAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SurveyNotFound",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "nullifier",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newCount",
          "type": "uint256"
        }
      ],
      "name": "CardValidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "signer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "messageHash",
          "type": "bytes32"
        }
      ],
      "name": "SignatureValidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "SurveyCreated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "batchCardCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        }
      ],
      "name": "createSurvey",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        }
      ],
      "name": "getBatchCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "getOwnerSurveyCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "getOwnerSurveys",
      "outputs": [
        {
          "internalType": "string[]",
          "name": "",
          "type": "string[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        }
      ],
      "name": "getSurvey",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "nullifier",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        }
      ],
      "name": "isNullifierUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "authSigAddress",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        }
      ],
      "name": "isOwner",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        }
      ],
      "name": "surveyExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "usedNullifiers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "nullifier",
          "type": "string"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "internalType": "string",
          "name": "batchId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "surveyId",
          "type": "string"
        }
      ],
      "name": "validateCard",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001657610f4c908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c8063206137aa146100c25780633cfebb6e146100bd57806342abbabd146100b857806394b2c95c146100b35780639ee8481214610095578063be7d3568146100ae578063c15d3593146100a9578063c5b88066146100a4578063c6576e471461009f578063cd3799641461009a5763ce2680701461009557600080fd5b610432565b6106b5565b610622565b6105e8565b61053c565b61045e565b6103ba565b610347565b6101ba565b346100f35760203660031901126100f3576004356000526003602052602060ff604060002054166040519015158152f35b600080fd5b600435906001600160a01b03821682036100f357565b60005b8381106101215750506000910152565b8181015183820152602001610111565b9060209161014a8151809281855285808601910161010e565b601f01601f1916010190565b6020808201906020835283518092526040830192602060408460051b8301019501936000915b84831061018c5750505050505090565b90919293949584806101aa600193603f198682030187528a51610131565b980193019301919493929061017c565b346100f3576020806003193601126100f3576001600160a01b036101dc6100f8565b1660005260019060018152604060002080549067ffffffffffffffff82116102545760405192610211818460051b0185610286565b82845260009182528082208185015b84841061023957604051806102358882610156565b0390f35b86838192610246856107d5565b815201920193019290610220565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff82111761025457604052565b90601f8019910116810190811067ffffffffffffffff82111761025457604052565b604051906102b58261026a565b565b92919267ffffffffffffffff821161025457604051916102e1601f8201601f191660200184610286565b8294818452818301116100f3578281602093846000960137010152565b9080601f830112156100f357816020610319933591016102b7565b90565b60206003198201126100f3576004359067ffffffffffffffff82116100f357610319916004016102fe565b346100f35760206001600160a01b0360016103696103643661031c565b610729565b0154161515604051908152f35b9060406003198301126100f35767ffffffffffffffff6004358181116100f357836103a3916004016102fe565b926024359182116100f357610319916004016102fe565b346100f3576103c836610376565b90604051610415602182602095866103e9818401978881519384920161010e565b8201601f60fa1b88820152610406825180938a878501910161010e565b01036001810184520182610286565b5190206000526003815260ff604060002054166040519015158152f35b346100f357602061045561044f61044836610376565b919061074f565b90610775565b54604051908152f35b346100f35761046c36610376565b9061047981511515610878565b610485825115156108c4565b6001600160a01b036104a9600161049b84610729565b01546001600160a01b031690565b1661052a576105257fdb3a8af2f37abe346b31fdd308fc1e8bcdfe1512f0e0a9790d5677cb5e3ba2c6916104fb6104de6102a8565b8581523360208201524260408201526104f683610729565b610a3c565b336000908152600160205260409020610515908290610a7b565b6040519182913395429184610ac5565b0390a2005b604051630b6ed0e760e21b8152600490fd5b346100f35760803660031901126100f35767ffffffffffffffff6004358181116100f35761056e9036906004016102fe565b906024358181116100f357366023820112156100f3576105989036906024816004013591016102b7565b916044358281116100f3576105b19036906004016102fe565b6064359283116100f357610235936105d06105d69436906004016102fe565b92610b8c565b60405190151581529081906020820190565b346100f35760203660031901126100f3576001600160a01b036106096100f8565b1660005260016020526020604060002054604051908152f35b346100f3576106336103643661031c565b604051906106408261026a565b610649816107d5565b825260018101546001600160a01b0390811660208401818152600290930154604085019081529190156106a35761069493519251169051604051938493606085526060850190610131565b91602084015260408301520390f35b604051637e3336d960e01b8152600490fd5b346100f35760403660031901126100f3576106ce6100f8565b6024359067ffffffffffffffff82116100f3576020916001600160a01b03908190600190610704906103649036906004016102fe565b015416906040519216148152f35b906107256020928281519485920161010e565b0190565b602061074291816040519382858094519384920161010e565b8101600081520301902090565b602061076891816040519382858094519384920161010e565b8101600281520301902090565b60209061078f92826040519483868095519384920161010e565b82019081520301902090565b90600182811c921680156107cb575b60208310146107b557565b634e487b7160e01b600052602260045260246000fd5b91607f16916107aa565b906040519182600082546107e88161079b565b908184526020946001916001811690816000146108565750600114610817575b5050506102b592500383610286565b600090815285812095935091905b81831061083e5750506102b59350820101388080610808565b85548884018501529485019487945091830191610825565b925050506102b594925060ff191682840152151560051b820101388080610808565b1561087f57565b60405162461bcd60e51b815260206004820152601960248201527f5375727665792049442063616e6e6f7420626520656d707479000000000000006044820152606490fd5b156108cb57565b60405162461bcd60e51b815260206004820152601860248201527f49504653204349442063616e6e6f7420626520656d70747900000000000000006044820152606490fd5b90601f811161091e57505050565b6000916000526020600020906020601f850160051c8301941061095c575b601f0160051c01915b82811061095157505050565b818155600101610945565b909250829061093c565b919091825167ffffffffffffffff81116102545761098e81610988845461079b565b84610910565b602080601f83116001146109d1575081906109c29394956000926109c6575b50508160011b916000199060031b1c19161790565b9055565b0151905038806109ad565b90601f198316956109e785600052602060002090565b926000905b888210610a2457505083600195969710610a0b575b505050811b019055565b015160001960f88460031b161c19169055388080610a01565b806001859682949686015181550195019301906109ec565b906040600291610a4d815185610966565b6001840160018060a01b036020830151166bffffffffffffffffffffffff60a01b8254161790550151910155565b908154680100000000000000008110156102545760018101808455811015610aaf576102b592600052602060002001610966565b634e487b7160e01b600052603260045260246000fd5b939291610aee90610ae0604093606088526060880190610131565b908682036020880152610131565b930152565b90604051610b008161026a565b604060028294610b0f816107d5565b845260018101546001600160a01b031660208501520154910152565b634e487b7160e01b600052601160045260246000fd5b6000198114610b505760010190565b610b2b565b610b6d9060206040519282848094519384920161010e565b810103902090565b929190610aee602091604086526040860190610131565b929091926020610ba3610b9e84610729565b610af3565b01805190946001600160a01b039390918416156106a357604093845190610c97610c8b610c7d84610bf0610bea610bdd602084018c610712565b601f60fa1b815260010190565b89610712565b0394610c04601f1996878101835282610286565b8951610c2481610c18602082018095610712565b03888101835282610286565b519020948951610c73602082019282610c678a86603c917f19457468657265756d205369676e6564204d6573736167653a0a3332000000008252601c8201520190565b03908101835282610286565b519020998a610e26565b99516001600160a01b031690565b6001600160a01b031690565b9716968703610dac57610cbe610cb7826000526003602052604060002090565b5460ff1690565b610d9b57917f120be7a779fd31251124a6f0146622671a554fe5d1f554dc51006fc59b6dc1fe7fe6d0ab9c1bd0870c933bbb7d65e7a1ea1258be080d623c1ea46dce5cca03c55f969492610d30610d23610d9398966000526003602052604060002090565b805460ff19166001179055565b610d42610d3c8261074f565b84610775565b610d4c8154610b41565b9055610d73610d6d610d66610d608461074f565b86610775565b5492610b55565b93610b55565b93610d82865192839283610b75565b0390a3519081529081906020820190565b0390a2600190565b8451636569570160e11b8152600490fd5b8451635a1f7bdd60e01b8152600490fd5b60ff601b9116019060ff8211610b5057565b15610dd657565b606460405162461bcd60e51b815260206004820152602060248201527f496e76616c6964207369676e6174757265207265636f766572792076616c75656044820152fd5b6040513d6000823e3d90fd5b6041825103610ed1576020916000918291848101519260606040830151920151901a92601b8410610eba575b90610e9691610e7060ff8616601b8114908115610eaf575b50610dcf565b604051948594859094939260ff6060936080840197845216602083015260408201520152565b838052039060015afa15610eaa5760005190565b610e1a565b601c91501438610e6a565b9290610ec8610e9692610dbd565b93909150610e52565b60405162461bcd60e51b815260206004820152601860248201527f496e76616c6964207369676e6174757265206c656e67746800000000000000006044820152606490fdfea2646970667358221220bdeb20675e2af9508c3c890927123f1e554a89800e92564cf1f412a248fb679164736f6c63430008180033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b60003560e01c8063206137aa146100c25780633cfebb6e146100bd57806342abbabd146100b857806394b2c95c146100b35780639ee8481214610095578063be7d3568146100ae578063c15d3593146100a9578063c5b88066146100a4578063c6576e471461009f578063cd3799641461009a5763ce2680701461009557600080fd5b610432565b6106b5565b610622565b6105e8565b61053c565b61045e565b6103ba565b610347565b6101ba565b346100f35760203660031901126100f3576004356000526003602052602060ff604060002054166040519015158152f35b600080fd5b600435906001600160a01b03821682036100f357565b60005b8381106101215750506000910152565b8181015183820152602001610111565b9060209161014a8151809281855285808601910161010e565b601f01601f1916010190565b6020808201906020835283518092526040830192602060408460051b8301019501936000915b84831061018c5750505050505090565b90919293949584806101aa600193603f198682030187528a51610131565b980193019301919493929061017c565b346100f3576020806003193601126100f3576001600160a01b036101dc6100f8565b1660005260019060018152604060002080549067ffffffffffffffff82116102545760405192610211818460051b0185610286565b82845260009182528082208185015b84841061023957604051806102358882610156565b0390f35b86838192610246856107d5565b815201920193019290610220565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff82111761025457604052565b90601f8019910116810190811067ffffffffffffffff82111761025457604052565b604051906102b58261026a565b565b92919267ffffffffffffffff821161025457604051916102e1601f8201601f191660200184610286565b8294818452818301116100f3578281602093846000960137010152565b9080601f830112156100f357816020610319933591016102b7565b90565b60206003198201126100f3576004359067ffffffffffffffff82116100f357610319916004016102fe565b346100f35760206001600160a01b0360016103696103643661031c565b610729565b0154161515604051908152f35b9060406003198301126100f35767ffffffffffffffff6004358181116100f357836103a3916004016102fe565b926024359182116100f357610319916004016102fe565b346100f3576103c836610376565b90604051610415602182602095866103e9818401978881519384920161010e565b8201601f60fa1b88820152610406825180938a878501910161010e565b01036001810184520182610286565b5190206000526003815260ff604060002054166040519015158152f35b346100f357602061045561044f61044836610376565b919061074f565b90610775565b54604051908152f35b346100f35761046c36610376565b9061047981511515610878565b610485825115156108c4565b6001600160a01b036104a9600161049b84610729565b01546001600160a01b031690565b1661052a576105257fdb3a8af2f37abe346b31fdd308fc1e8bcdfe1512f0e0a9790d5677cb5e3ba2c6916104fb6104de6102a8565b8581523360208201524260408201526104f683610729565b610a3c565b336000908152600160205260409020610515908290610a7b565b6040519182913395429184610ac5565b0390a2005b604051630b6ed0e760e21b8152600490fd5b346100f35760803660031901126100f35767ffffffffffffffff6004358181116100f35761056e9036906004016102fe565b906024358181116100f357366023820112156100f3576105989036906024816004013591016102b7565b916044358281116100f3576105b19036906004016102fe565b6064359283116100f357610235936105d06105d69436906004016102fe565b92610b8c565b60405190151581529081906020820190565b346100f35760203660031901126100f3576001600160a01b036106096100f8565b1660005260016020526020604060002054604051908152f35b346100f3576106336103643661031c565b604051906106408261026a565b610649816107d5565b825260018101546001600160a01b0390811660208401818152600290930154604085019081529190156106a35761069493519251169051604051938493606085526060850190610131565b91602084015260408301520390f35b604051637e3336d960e01b8152600490fd5b346100f35760403660031901126100f3576106ce6100f8565b6024359067ffffffffffffffff82116100f3576020916001600160a01b03908190600190610704906103649036906004016102fe565b015416906040519216148152f35b906107256020928281519485920161010e565b0190565b602061074291816040519382858094519384920161010e565b8101600081520301902090565b602061076891816040519382858094519384920161010e565b8101600281520301902090565b60209061078f92826040519483868095519384920161010e565b82019081520301902090565b90600182811c921680156107cb575b60208310146107b557565b634e487b7160e01b600052602260045260246000fd5b91607f16916107aa565b906040519182600082546107e88161079b565b908184526020946001916001811690816000146108565750600114610817575b5050506102b592500383610286565b600090815285812095935091905b81831061083e5750506102b59350820101388080610808565b85548884018501529485019487945091830191610825565b925050506102b594925060ff191682840152151560051b820101388080610808565b1561087f57565b60405162461bcd60e51b815260206004820152601960248201527f5375727665792049442063616e6e6f7420626520656d707479000000000000006044820152606490fd5b156108cb57565b60405162461bcd60e51b815260206004820152601860248201527f49504653204349442063616e6e6f7420626520656d70747900000000000000006044820152606490fd5b90601f811161091e57505050565b6000916000526020600020906020601f850160051c8301941061095c575b601f0160051c01915b82811061095157505050565b818155600101610945565b909250829061093c565b919091825167ffffffffffffffff81116102545761098e81610988845461079b565b84610910565b602080601f83116001146109d1575081906109c29394956000926109c6575b50508160011b916000199060031b1c19161790565b9055565b0151905038806109ad565b90601f198316956109e785600052602060002090565b926000905b888210610a2457505083600195969710610a0b575b505050811b019055565b015160001960f88460031b161c19169055388080610a01565b806001859682949686015181550195019301906109ec565b906040600291610a4d815185610966565b6001840160018060a01b036020830151166bffffffffffffffffffffffff60a01b8254161790550151910155565b908154680100000000000000008110156102545760018101808455811015610aaf576102b592600052602060002001610966565b634e487b7160e01b600052603260045260246000fd5b939291610aee90610ae0604093606088526060880190610131565b908682036020880152610131565b930152565b90604051610b008161026a565b604060028294610b0f816107d5565b845260018101546001600160a01b031660208501520154910152565b634e487b7160e01b600052601160045260246000fd5b6000198114610b505760010190565b610b2b565b610b6d9060206040519282848094519384920161010e565b810103902090565b929190610aee602091604086526040860190610131565b929091926020610ba3610b9e84610729565b610af3565b01805190946001600160a01b039390918416156106a357604093845190610c97610c8b610c7d84610bf0610bea610bdd602084018c610712565b601f60fa1b815260010190565b89610712565b0394610c04601f1996878101835282610286565b8951610c2481610c18602082018095610712565b03888101835282610286565b519020948951610c73602082019282610c678a86603c917f19457468657265756d205369676e6564204d6573736167653a0a3332000000008252601c8201520190565b03908101835282610286565b519020998a610e26565b99516001600160a01b031690565b6001600160a01b031690565b9716968703610dac57610cbe610cb7826000526003602052604060002090565b5460ff1690565b610d9b57917f120be7a779fd31251124a6f0146622671a554fe5d1f554dc51006fc59b6dc1fe7fe6d0ab9c1bd0870c933bbb7d65e7a1ea1258be080d623c1ea46dce5cca03c55f969492610d30610d23610d9398966000526003602052604060002090565b805460ff19166001179055565b610d42610d3c8261074f565b84610775565b610d4c8154610b41565b9055610d73610d6d610d66610d608461074f565b86610775565b5492610b55565b93610b55565b93610d82865192839283610b75565b0390a3519081529081906020820190565b0390a2600190565b8451636569570160e11b8152600490fd5b8451635a1f7bdd60e01b8152600490fd5b60ff601b9116019060ff8211610b5057565b15610dd657565b606460405162461bcd60e51b815260206004820152602060248201527f496e76616c6964207369676e6174757265207265636f766572792076616c75656044820152fd5b6040513d6000823e3d90fd5b6041825103610ed1576020916000918291848101519260606040830151920151901a92601b8410610eba575b90610e9691610e7060ff8616601b8114908115610eaf575b50610dcf565b604051948594859094939260ff6060936080840197845216602083015260408201520152565b838052039060015afa15610eaa5760005190565b610e1a565b601c91501438610e6a565b9290610ec8610e9692610dbd565b93909150610e52565b60405162461bcd60e51b815260206004820152601860248201527f496e76616c6964207369676e6174757265206c656e67746800000000000000006044820152606490fdfea2646970667358221220bdeb20675e2af9508c3c890927123f1e554a89800e92564cf1f412a248fb679164736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
